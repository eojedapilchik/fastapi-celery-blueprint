name: deploy-to-server
run-name: ${{ github.actor }} is deploying to server ü§ì
on:
  push:
    branches:
      - main
  workflow_dispatch:
jobs:
  build:
    name: Executes pull on remote
    runs-on: ubuntu-latest
    environment: real-production
    steps:
      - name: üîê Installing ssh keys ...
        run: |
          install -m 600 -D /dev/null ~/.ssh/id_rsa
          echo "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" > ~/.ssh/id_rsa
          ssh-keyscan -H ${{ secrets.DC_HOST }} > ~/.ssh/known_hosts
      - name: ‚è¨ Connecting and Pulling ...
        run: ssh ${{ secrets.DC_USER }}@${{ secrets.DC_HOST }} "cd ${{ secrets.DIR }} && git checkout . && git checkout --force main && git pull origin main && exit"
      - name: üßΩ Cleaning ...
        run: rm -rf ~/.ssh